{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///./src/js/code-block/_utils.js","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:////Users/ryo/Documents/NodeModules/wp-gulp/node_modules/@babel/runtime/helpers/typeof.js","webpack:////Users/ryo/Documents/NodeModules/wp-gulp/node_modules/classnames/index.js","webpack:///./src/js/code-block/_icon.js","webpack:///./src/js/code-block/_panels.js","webpack:///./src/js/code-block/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","setHeightCodeBlocks","elem","line","num","match","length","style","height","sanitizeCodeblock","str","replace","_typeof","obj","iterator","constructor","hasOwn","classNames","classes","arguments","arg","argType","push","Array","isArray","inner","apply","join","default","hcbIcon","x","y","viewBox","points","props","attributes","setAttributes","isLineShow","isShowLang","title","__","initialOpen","label","selected","options","onChange","val","hcbLangs","window","html","css","scss","js","ts","php","ruby","python","swift","csharp","cpp","objectivec","sql","json","bash","git","registerBlockType","metadata","icon","category","keywords","supports","transforms","from","type","blocks","transform","createBlock","code","content","to","edit","clientId","className","fileName","langName","dataLineNum","blockClass","classnames","setTimeout","hcbTextarea","document","getElementById","querySelector","langList","keys","forEach","data-file","data-lang","data-show-lang","placeholder","e","target","langType","langKey","save","preClass","data-line","Content","tagName"],"mappings":"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","file":"/code-block/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","/**\n * コードブロックの高さを設定する関数\n * Function for setting code block height\n */\nexport function setHeightCodeBlocks(elem) {\n\tconst num = elem.value.match(/\\r\\n|\\n/g);\n\tlet line;\n\tif (null !== num) {\n\t\tline = num.length + 1;\n\t} else {\n\t\tline = 1;\n\t}\n\telem.style.height = line * 1.8 + 1.6 + 2 + 'em';\n}\n\n/**\n * サニタイズ用の関数\n * Sanitize function\n */\nexport function sanitizeCodeblock(str) {\n\tif (str) {\n\t\treturn str\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&#39;');\n\t}\n\treturn str;\n}\n","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// HCB アイコン\nconst hcbIcon = (\n\t<svg x='0px' y='0px' viewBox='0 0 512 512'>\n\t\t<path d='M48,346.8h34.6v51h31.2v-51h34.6v135.8h-34.6V428H82.6v54.5H48V346.8z' />\n\t\t<path d='M268.1,344.3c17.5,0,31.6,8.3,41,17.3l-19,21.6c-6.2-5.6-12.8-9.2-22-9.2c-17.3,0-30.5,15.2-30.5,40.4 c0,26.1,13.2,40.6,32,40.6c9,0,16.4-4.5,22.4-11.1l19,21.1c-11.5,13.4-26.7,19.9-43.4,19.9c-35.3,0-65.4-23.1-65.4-69.4 C202.1,370.3,231.5,344.3,268.1,344.3z' />\n\t\t<path d='M363,346.8h44.4c28.2,0,50.6,7.1,50.6,33.7c0,11.8-7.1,25.4-22.9,29.5v0.8c19.2,3.6,29,13.7,29,31.8 c0,28-23.1,40-52.6,40H363V346.8z M406.3,400.6c12.6,0,17.7-6,17.7-14.9c0-8.6-5.3-12.2-17.7-12.2h-8.5v27.1H406.3z M408.9,455.8 c14.7,0,21.1-5.5,21.1-16.2c0-10.5-6.4-14.9-21.1-14.9h-11.1v31H408.9z' />\n\t\t<polygon points='209.8,56.9 184,31 39.3,175.7 39.3,175.7 39.3,175.7 184,320.4 209.8,294.6 91,175.7' />\n\t\t<polygon points='302.2,56.9 328,31 472.7,175.7 472.7,175.7 472.7,175.7 328,320.4 302.2,294.6 421,175.7' />\n\t</svg>\n);\nexport default hcbIcon;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, RadioControl } from '@wordpress/components';\n\n/**\n * テキストドメイン\n */\nconst textDomain = 'loos-hcb';\n\n// コンポーネントを export\nexport default (props) => {\n\tconst { attributes, setAttributes } = props;\n\tconst { isLineShow, isShowLang } = attributes;\n\n\treturn (\n\t\t<PanelBody title={__('HCB settings', textDomain)} initialOpen={true}>\n\t\t\t<RadioControl\n\t\t\t\tlabel={__(\n\t\t\t\t\t'Settings for displaying the number of lines',\n\t\t\t\t\ttextDomain\n\t\t\t\t)} // 行数の表示に関する設定\n\t\t\t\tselected={isLineShow}\n\t\t\t\toptions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Do not set individually', textDomain), //個別で設定はしない\n\t\t\t\t\t\tvalue: 'undefined',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Display row count', textDomain), //行数を表示する\n\t\t\t\t\t\tvalue: 'on',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Do not display row count', textDomain), //行数を表示しない\n\t\t\t\t\t\tvalue: 'off',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tonChange={(val) => {\n\t\t\t\t\tsetAttributes({ isLineShow: val });\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<RadioControl\n\t\t\t\tlabel={__('Settings for displaying language name', textDomain)} // 言語名の表示に関する設定\n\t\t\t\tselected={isShowLang}\n\t\t\t\toptions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Do not set individually', textDomain), //個別で設定はしない\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Display language', textDomain), //言語を表示する\n\t\t\t\t\t\tvalue: '1',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __('Do not display language', textDomain), //言語を表示しない\n\t\t\t\t\t\tvalue: '0',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tonChange={(val) => {\n\t\t\t\t\tsetAttributes({ isShowLang: val });\n\t\t\t\t}}\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n};\n","/**\n * WordPress dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType, createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tInspectorControls,\n\t// InnerBlocks,\n\t// BlockControls,\n} from '@wordpress/block-editor';\n\nimport { SelectControl } from '@wordpress/components';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport hcbIcon from './_icon';\nimport { setHeightCodeBlocks, sanitizeCodeblock } from './_utils';\n\n/**\n * InspectorControls\n */\nimport HcbSidePanels from './_panels';\n\n/**\n * metadata\n */\nimport metadata from './block.json';\n\n/**\n * テキストドメイン\n */\nconst textDomain = 'loos-hcb';\n\n/**\n * 言語情報をグローバル変数から受け取る。\n */\nlet hcbLangs = window.hcbLangs;\nif ('object' !== typeof hcbLangs) {\n\thcbLangs = {html:\"HTML\",css:\"CSS\",scss:\"SCSS\",js:\"JavaScript\",ts:\"TypeScript\",php:\"PHP\",ruby:\"Ruby\",python:\"Python\",swift:\"Swift\",c:\"C\",csharp:\"C#\",cpp:\"C++\",objectivec:\"Objective-C\",sql:\"SQL\",json:\"JSON\",bash:\"Bash\",git:\"Git\"};\n}\n\n/**\n * Register Highlighting Code Block\n */\nregisterBlockType(metadata.name, {\n\ticon: hcbIcon,\n\ttitle: metadata.title,\n\tcategory: metadata.category,\n\tkeywords: metadata.keywords,\n\tsupports: metadata.supports,\n\tattributes: metadata.attributes,\n\ttransforms: {\n\t\tfrom: [\n\t\t\t//どのブロックタイプから変更できるようにするか\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: ['core/code'], //整形済みブロック : 'core/preformatted',\n\t\t\t\ttransform: (attributes) => {\n\t\t\t\t\treturn createBlock('loos-hcb/code-block', {\n\t\t\t\t\t\tcode: attributes.content,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tto: [\n\t\t\t//どのブロックタイプへ変更できるようにするか\n\t\t\t{\n\t\t\t\ttype: 'block',\n\t\t\t\tblocks: ['core/code'],\n\t\t\t\ttransform: (attributes) => {\n\t\t\t\t\treturn createBlock('core/code', {\n\t\t\t\t\t\tcontent: attributes.code,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\n\tedit: (props) => {\n\t\tconst { attributes, setAttributes, clientId, className } = props;\n\t\tconst {\n\t\t\tcode,\n\t\t\t// langType,\n\t\t\tfileName,\n\t\t\tlangName,\n\t\t\tdataLineNum,\n\t\t\tisShowLang,\n\t\t} = attributes;\n\t\tconst blockClass = classnames('hcb_wrap', 'hcb-block', className);\n\n\t\t// コードの textarea 高さセット\n\t\tsetTimeout(() => {\n\t\t\t// ちょっと遅らせないと null になる\n\t\t\tconst hcbBlock = document.getElementById('block-' + clientId);\n\t\t\tconst hcbTextarea = hcbBlock.querySelector('.hcb_textarea');\n\t\t\tsetHeightCodeBlocks(hcbTextarea);\n\t\t}, 10);\n\n\t\tconst langList = [\n\t\t\t{\n\t\t\t\tvalue: '',\n\t\t\t\tlabel: '- Lang Select -',\n\t\t\t},\n\t\t];\n\n\t\tObject.keys(hcbLangs).forEach((key) => {\n\t\t\tlangList.push({\n\t\t\t\tvalue: key,\n\t\t\t\tlabel: hcbLangs[key],\n\t\t\t});\n\t\t});\n\n\t\t//preタグにつけるクラス名を生成して保存\n\t\t// let preClass = 'prism ' + isLineShow + '-numbers lang-' + langType;\n\t\t// setAttributes({ preClass: preClass });\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<HcbSidePanels {...props} />\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div\n\t\t\t\t\tclassName={blockClass}\n\t\t\t\t\tdata-file={fileName || null}\n\t\t\t\t\tdata-lang={langName || null}\n\t\t\t\t\t// data-line={dataLineNum || null}\n\t\t\t\t\tdata-show-lang={isShowLang || null}\n\t\t\t\t>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName='hcb_textarea'\n\t\t\t\t\t\tplaceholder='Your Code...'\n\t\t\t\t\t\tvalue={code}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetAttributes({ code: e.target.value });\n\t\t\t\t\t\t\tsetHeightCodeBlocks(e.target);\n\t\t\t\t\t\t}}\n\t\t\t\t\t></textarea>\n\t\t\t\t\t<div className='select_wrap'>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tvalue={attributes.langType}\n\t\t\t\t\t\t\toptions={langList}\n\t\t\t\t\t\t\tonChange={(langKey) => {\n\t\t\t\t\t\t\t\tif ('' === langKey) {\n\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\tlangType: '',\n\t\t\t\t\t\t\t\t\t\tlangName: '',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\tlangType: langKey,\n\t\t\t\t\t\t\t\t\t\tlangName: hcbLangs[langKey],\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tclassName='num_input'\n\t\t\t\t\t\t\tvalue={dataLineNum}\n\t\t\t\t\t\t\tplaceholder={__('\"data-line\" value', textDomain)} //data-line属性値\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetAttributes({ dataLineNum: e.target.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tclassName='filename_input'\n\t\t\t\t\t\t\tvalue={fileName}\n\t\t\t\t\t\t\tplaceholder={__('file name', textDomain)} //ファイル名\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetAttributes({ fileName: e.target.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t},\n\tsave: ({ attributes }) => {\n\t\tconst {\n\t\t\tcode,\n\t\t\tlangType,\n\t\t\tfileName,\n\t\t\tlangName,\n\t\t\tdataLineNum,\n\t\t\tisLineShow,\n\t\t\tisShowLang,\n\t\t} = attributes;\n\n\t\t// preタグにつけるクラス\n\t\tconst preClass = 'prism ' + isLineShow + '-numbers lang-' + langType;\n\n\t\treturn (\n\t\t\t<div className='hcb_wrap'>\n\t\t\t\t<pre\n\t\t\t\t\tclassName={preClass}\n\t\t\t\t\tdata-file={fileName || null}\n\t\t\t\t\tdata-lang={langName || null}\n\t\t\t\t\tdata-line={dataLineNum || null}\n\t\t\t\t\tdata-show-lang={isShowLang || null}\n\t\t\t\t>\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName='code'\n\t\t\t\t\t\tvalue={sanitizeCodeblock(code)}\n\t\t\t\t\t/>\n\t\t\t\t</pre>\n\t\t\t</div>\n\t\t);\n\t},\n});\n"],"sourceRoot":""}